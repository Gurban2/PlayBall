# üö´ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 400 Bad Request –æ—Ç Firestore

## üö® –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
```
https://firestore.googleapis.com/google.firestore.v1.Firestore/Write/channel?gsessionid=...&database=projects%2Fvolleyball-a7d8d%2Fdatabases%2F(default)&RID=rpc&SID=...&AID=0&CI=0&TYPE=xmlhttp&zx=...&t=1 400 (Bad Request)
```

## üîç –ü—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏ 400

1. **Firestore –Ω–µ –≤–∫–ª—é—á–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ–∑–¥–∞–Ω–∞
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - –±–ª–æ–∫–∏—Ä—É—é—Ç –¥–æ—Å—Ç—É–ø –∫ API
3. **–ù–µ–≤–µ—Ä–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Project ID –∏–ª–∏ API –∫–ª—é—á–∏
4. **–ü—Ä–æ–µ–∫—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** - Project ID volleyball-a7d8d –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
5. **–ü—Ä–æ–±–ª–µ–º—ã —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–æ—Å—Ç—É–ø–∞

## ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```bash
fix_400_bad_request.bat
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

#### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Firestore –≤–∫–ª—é—á–µ–Ω
1. –û—Ç–∫—Ä–æ–π—Ç–µ [Firebase Console](https://console.firebase.google.com/project/volleyball-a7d8d/firestore)
2. –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö" - –Ω–∞–∂–º–∏—Ç–µ –µ—ë
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ" (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è `europe-west1`)

#### 2. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```bash
# –ï—Å–ª–∏ –µ—Å—Ç—å Firebase CLI
firebase deploy --only firestore:rules

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é –≤ Firebase Console
```

**–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true;
    }
  }
}
```

#### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Firebase
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `lib/firebase_options.dart` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Project ID:
```dart
projectId: 'volleyball-a7d8d',
```

## üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### ‚úÖ –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ `lib/utils/firebase_test.dart`:

1. **–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ 400** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API** –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
3. **–£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö** —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏
4. **–§—É–Ω–∫—Ü–∏—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ 400** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ 400" –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:
1. –û—Ç–∫—Ä–æ–π—Ç–µ "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Firebase"
2. –ù–∞–∂–º–∏—Ç–µ **"–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ 400"** (–∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
4. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞–π–¥–µ–Ω—ã, —Å–ª–µ–¥—É–π—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
‚úÖ Project ID: volleyball-a7d8d
‚úÖ Firestore API –¥–æ—Å—Ç—É–ø–µ–Ω
‚úÖ –ó–∞–ø–∏—Å—å –≤ Firestore —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ –ß—Ç–µ–Ω–∏–µ –∏–∑ Firestore —Ä–∞–±–æ—Ç–∞–µ—Ç
```

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è:

#### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Firebase
- [Firebase Status Page](https://status.firebase.google.com/)
- –í–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ Google

#### 2. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Firebase
1. –û—Ç–∫—Ä–æ–π—Ç–µ [Firebase Console](https://console.firebase.google.com/)
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `volleyball-a7d8d`
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Project Settings ‚Üí General
4. –°–∫–∞—á–∞–π—Ç–µ –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è Web
5. –û–±–Ω–æ–≤–∏—Ç–µ `lib/firebase_options.dart`

#### 3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```bash
# –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –≤ Firebase Console
# –û–±–Ω–æ–≤–∏—Ç–µ firebase_options.dart —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
```

#### 4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–º—É–ª—è—Ç–æ—Ä Firestore
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Firebase CLI
npm install -g firebase-tools

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —ç–º—É–ª—è—Ç–æ—Ä
firebase emulators:start --only firestore

# –û–±–Ω–æ–≤–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –∫–æ–¥–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç–º—É–ª—è—Ç–æ—Ä–∞
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

### –û—Ç–∫—Ä–æ–π—Ç–µ F12 ‚Üí Console –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

#### ‚úÖ –•–æ—Ä–æ—à–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
```
üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–∫–∏ 400 Bad Request...
üìã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Firebase:
   Project ID: volleyball-a7d8d
   API Key: AIzaSyC...
‚úÖ –ü—Ä–æ–µ–∫—Ç –¥–æ—Å—Ç—É–ø–µ–Ω
‚úÖ Firestore API –¥–æ—Å—Ç—É–ø–µ–Ω
```

#### ‚ùå –ü–ª–æ—Ö–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
```
‚ùå –ü—Ä–æ–µ–∫—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (400)
üö´ Firestore API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É 400
üí° –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
   1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Project ID –≤ firebase_options.dart
   2. Firestore –Ω–µ –≤–∫–ª—é—á–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ
   3. –ù–µ–≤–µ—Ä–Ω—ã–µ API –∫–ª—é—á–∏
```

## üìã –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫

- [ ] Firestore –≤–∫–ª—é—á–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ volleyball-a7d8d
- [ ] –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã
- [ ] Project ID –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ firebase_options.dart
- [ ] API –∫–ª—é—á–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ 400 –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- [ ] –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ 400 –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- [ ] –û–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

## üÜò –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

### –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ https://console.firebase.google.com/
   - –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `volleyball-a7d8d`
   - –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ—Ç - —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∏–ª–ª–∏–Ω–≥:**
   - Firebase —Ç—Ä–µ–±—É–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –±–∏–ª–ª–∏–Ω–≥–∞ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –ø—Ä–æ–µ–∫—Ç–∞ –µ—Å—Ç—å –ø–ª–∞—Ç–µ–∂–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç

3. **–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Firebase:**
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª–Ω—ã–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
   - –û–ø–∏—à–∏—Ç–µ —à–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
   - –£–∫–∞–∂–∏—Ç–µ Project ID –∏ —Ä–µ–≥–∏–æ–Ω

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Firebase Console](https://console.firebase.google.com/)
- [Firestore Security Rules](https://firebase.google.com/docs/firestore/security/get-started)
- [Firebase Status](https://status.firebase.google.com/)
- [Firebase Support](https://firebase.google.com/support)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 26.05.2025  
**–°—Ç–∞—Ç—É—Å:** üö´ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ - —Ç—Ä–µ–±—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è 