# üî• –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω–¥–µ–∫—Å–æ–≤ Firestore

## ‚ùó **–ü—Ä–æ–±–ª–µ–º–∞**
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É: "The query requires an index" - —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ Firestore —Ç—Ä–µ–±—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –Ω–∞—à–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ: –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ —á–µ—Ä–µ–∑ Firebase Console**

### **–®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Firebase Console**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Firebase Console](https://console.firebase.google.com/)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç "volleyball-connect"
3. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **Firestore Database**
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Indexes**

### **–®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã**

–°–æ–∑–¥–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `rooms`:

#### **–ò–Ω–¥–µ–∫—Å 1: –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã**
- **Collection ID**: `rooms`
- **Fields**:
  - `status` ‚Üí **Ascending**
  - `startTime` ‚Üí **Ascending**
- **Query scope**: Collection

#### **–ò–Ω–¥–µ–∫—Å 2: –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã**  
- **Collection ID**: `rooms`
- **Fields**:
  - `status` ‚Üí **Ascending**
  - `startTime` ‚Üí **Ascending**
- **Query scope**: Collection

#### **–ò–Ω–¥–µ–∫—Å 3: –ö–æ–º–Ω–∞—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
- **Collection ID**: `rooms`
- **Fields**:
  - `participants` ‚Üí **Array-contains**
  - `startTime` ‚Üí **Ascending**
- **Query scope**: Collection

#### **–ò–Ω–¥–µ–∫—Å 4: –ö–æ–º–Ω–∞—Ç—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞**
- **Collection ID**: `rooms`
- **Fields**:
  - `organizerId` ‚Üí **Ascending**
  - `startTime` ‚Üí **Ascending**
- **Query scope**: Collection

### **–®–∞–≥ 3: –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤**
- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç
- –°—Ç–∞—Ç—É—Å –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω –≤ –∫–æ–Ω—Å–æ–ª–∏ Firebase
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å—ã –±—É–¥—É—Ç –ø–æ–º–µ—á–µ–Ω—ã –∑–µ–ª–µ–Ω–æ–π –≥–∞–ª–æ—á–∫–æ–π

### **–®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

## üöÄ **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –£–ø—Ä–æ—â–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤**

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã, –º–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ –∫–æ–¥–µ (—Å–º. —Å–ª–µ–¥—É—é—â–∏–π —Ñ–∞–π–ª —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏).

## üìù **–ü—Ä–∏–º–µ—á–∞–Ω–∏—è**
- –ò–Ω–¥–µ–∫—Å—ã –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
- –û–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è Firestore
- –ò–Ω–¥–µ–∫—Å—ã —É–ª—É—á—à–∞—é—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤
- –ë–µ–∑ –∏–Ω–¥–µ–∫—Å–æ–≤ —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

## üîó **–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏**
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º Firestore](https://firebase.google.com/docs/firestore/query-data/indexing)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞–º–∏](https://firebase.google.com/docs/firestore/query-data/index-overview) 